<app-header-top></app-header-top>
<header>
  <div class="flex justify-content-between flex-wrap header">
    <div class="flex align-items-center flex-wrap ml-5 mt-2">
      <div>
        <img
          class="hidden md:inline-flex"
          src="assets/images/logo_fiscalia_horizontal_escudo_azul.png"
          alt="SAD"
          height="70px"
        />
      </div>
      <div class="barra-border">&nbsp;</div>
      <div class="mt-text">Sistema de Administración<br />(SAD)</div>
    </div>

    <div class="d-flex ms-3 mr-2 mt-4">
      <div class="menu" #selectUser>
        <div
          class="menu__info flex align-items-center gap-2"
          (click)="showActions = !showActions"
        >
          <div class="menu__info--image">
            <img
              [src]="userImage || '../../../../../../assets/images/profile.svg'"
              alt="profile"
            />
          </div>
          <div class="menu__info--text flex flex-column">
            <div class="font-semibold text-sm">
              {{
                (usuarioSesion?.usuario.info.nombres || "") +
                  " " +
                  (usuarioSesion?.usuario.info.apellidoPaterno || "") +
                  " " +
                  (usuarioSesion?.usuario.info.apellidoMaterno || "")
              }}
            </div>
            <span class="text-xs">{{ usuarioSesion?.usuario.cargo }}</span>
          </div>

          <div>
            <i class="pi pi-angle-down"></i>
          </div>
        </div>

        <div class="menu__options" *ngIf="showActions">
          <div
            class="menu__options--main flex align-items-start justify-content-start gap-3 px-3 py-2"
          >
            <div>
              <img
                [src]="
                  userImage || '../../../../../../assets/images/profile.svg'
                "
                alt="profile"
              />
            </div>

            <div class="text-sx flex flex-column">
              <span class="font-semibold">{{
                (usuarioSesion?.usuario.info.nombres || "") +
                  " " +
                  (usuarioSesion?.usuario.info.apellidoPaterno || "") +
                  " " +
                  (usuarioSesion?.usuario.info.apellidoMaterno || "")
              }}</span>
              <span>{{ usuarioSesion?.usuario.correo }}</span>
              <span>{{ usuarioSesion?.usuario.ip }}</span>
            </div>
          </div>

          <div class="menu__options--list">
            <div>
              <i class="pi pi-user"></i>
              <!-- <span>Administrar cuenta</span> -->
              <span (click)="redirecionarCuenta()">Administrar cuenta</span>
            </div>
            <div>
              <i class="pi pi-key"></i>
              <span (click)="redirecionarSeguridad()">Cambiar contraseña</span>
            </div>
            <!-- <div>
              <i class="pi pi-th-large"></i>
              <span (click)="redirecionarSistemas()">Lista de Sistemas</span>
            </div> -->
            <!-- <hr class="hr" /> -->
            <div (click)="showModal = true">
              <i class="pi pi-sign-in"></i>
              <span>Cerrar sesión</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>

<app-modal-confirm-close (clicked)="logOut()" [(visible)]="showModal" />
<app-cambiar-contrasena />
